<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<!-- iOS Safari -->
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<!-- Chrome, Firefox OS and Opera Status Bar Color -->
<meta name="theme-color" content="#FFFFFF">
<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css">
<link rel="stylesheet" type="text/css"
  href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.19.0/themes/prism.min.css">
<link rel="stylesheet" type="text/css" href="css/SourceSansPro.css">
<link rel="stylesheet" type="text/css" href="css/theme.css">
<link rel="stylesheet" type="text/css" href="css/notablog.css">
<!-- Favicon -->

  <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text text-anchor=%22middle%22 dominant-baseline=%22middle%22 x=%2250%22 y=%2255%22 font-size=%2280%22&gt;📖&lt;/text&gt;&lt;/svg&gt;">

<style>
  :root {
    font-size: 20px;
  }
</style>
  <title>Vue2项目-移动端商城&nbsp;|&nbsp;Notablog</title>
  <meta property="og:type" content="blog">
  <meta property="og:title" content="Vue2项目-移动端商城">
  
  
    <meta property="og:image" content="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fe592a21e-a37e-4942-a71e-8fe5d98c5a78%2Ffavicon.ico?table=block&amp;id=e2616d84-e6c4-459c-8df6-ae7a9f743016">
  
  <style>
    .DateTagBar {
      margin-top: 1.0rem;
    }
  </style>
</head>

<body>
  <nav class="Navbar">
  <a href="index.html">
    <div class="Navbar__Btn">
      
        <span><img class="inline-img-icon" src="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text text-anchor=%22middle%22 dominant-baseline=%22middle%22 x=%2250%22 y=%2255%22 font-size=%2280%22&gt;📖&lt;/text&gt;&lt;/svg&gt;"></span>&nbsp;
      
      <span>Home</span>
    </div>
  </a>
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <span class="Navbar__Delim">&centerdot;</span>
      <a href="about.html">
        <div class="Navbar__Btn">
          
            <span><img class="inline-img-icon" src="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text text-anchor=%22middle%22 dominant-baseline=%22middle%22 x=%2250%22 y=%2255%22 font-size=%2280%22&gt;😀&lt;/text&gt;&lt;/svg&gt;"></span>&nbsp;
          
          <span>About</span>
        </div>
      </a>
    
  
    
  
</nav>
  <header class="Header">
    
    <div class="Header__Spacer Header__Spacer--NoCover">
    </div>
    
      <div class="Header__Icon">
        <span><img class="inline-img-icon" src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fe592a21e-a37e-4942-a71e-8fe5d98c5a78%2Ffavicon.ico?table=block&amp;id=e2616d84-e6c4-459c-8df6-ae7a9f743016"></span>
      </div>
    
    <h1 class="Header__Title">Vue2项目-移动端商城</h1>
    
      <div class="DateTagBar">
        
          <span class="DateTagBar__Item DateTagBar__Date">Posted on Wed, Apr 13, 2022</span>
        
        
      </div>
    
  </header>
  <article id="https://www.notion.so/e2616d84e6c4459c8df6ae7a9f743016" class="PageRoot PageRoot--FullWidth"><ul id="https://www.notion.so/63dfc4aa031a4028bd1c89453202d356" class="ColorfulBlock ColorfulBlock--ColorGray TableOfContents"><li class="TableOfContents__Item"><a href="#https://www.notion.so/d52d6b1dddca49d9bbc2609657dfad14"><div style="margin-left:0px"><span class="SemanticStringArray"><span class="SemanticString">问题汇总</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/427af699f1914bc09cb5a0a54a9f8732"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">img标签的图片下面的3px的空白如何消除？</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/6da439ca70254092954183419c62fd93"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">vue-router中的router-view和router-link组件的原理？</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/8bd13c954b4e4068ab70e812fb8db2e9"><div style="margin-left:0px"><span class="SemanticStringArray"><span class="SemanticString">1 封装底部导航TabBar</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/e6a29fd3513640398216fd7e20368b58"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">1.1 基本结构搭建</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/ecd63f8bd95c458793e70e348d385eba"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">1.2 TabBar和TabBarItem组件封装</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/e125259f4a934873be75781cec75d3ee"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">1.3 给TabBarItem传入active图标</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/debdcf0fab4f42d7822e71e78e5bcb04"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">1.4 点击TabBarItem跳转路由</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/7f646e66c5054ea495a3e3fa904c3875"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">1.5 点击TabBarItem的颜色控制</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/290921df4eae42899162e50aa299a097"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">1.6 封装MainTabBar</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/f3ede7d6b28b4350b387c087d7de38c1"><div style="margin-left:0px"><span class="SemanticStringArray"><span class="SemanticString">2 首页开发</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/e9a0dcbe2aa44975b0d57898dadfa3fe"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">2.0 移动端设置</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/26f03ea6287e46c7a4065a66c472d362"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">2.1 vue.config.js和editorconfig</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/28cba9fbfdcd47e792b8567a16132d53"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">2.2 首页导航栏NavBar</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/46c69edc036340c18b11302d396697cb"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">2.3 请求网络数据</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/24d34e2684164bd8859a2639b79d99dc"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">2.4 轮播图</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/65198a6fd4204090a22fd7a798cea555"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">2.5 推荐信息展示</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/5fc8e5c28c4b4012a2f2719edf589e31"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">2.6 FeatureView封装</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/e2e0598e1f574d38a8f79200c020df0f"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">2.7 TabControl封装</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/9297d6d7ab3c4f18b1a87de7e0610150"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">2.8 保存三栏商品的数据结构设计</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/83b78798954d4ad4b5e528668dbd1639"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">2.9 三栏商品数据的接收与保存</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/62e68cd995934680bcb655113e2f4f9b"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">2.10 商品数据的展示</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/b104846e60d14292bb7042e8a3138ccd"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">2.11 点击导航栏切换商品展示</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/bbb7743792dc4e4488e294a2eed7dc4a"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">2.12 </span><span class="SemanticString">better-scroll的封装和使用</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/74eb980c5b6146d2867ef5519fcd20db"><div style="margin-left:48px"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">2.12.1</strong></span><span class="SemanticString"> </span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">图片加载慢导致scroll无法滚动的bug</strong></span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/1d0f8d8dc7464479aaf2198376ef63e1"><div style="margin-left:48px"><span class="SemanticStringArray"><span class="SemanticString">2.12.2 refresh为undefined的bug</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/f4ffd182d0f64dcab7872848d26d85da"><div style="margin-left:48px"><span class="SemanticStringArray"><span class="SemanticString">2.12.3 如何设置home组件中scroll标签的高度，使得scroll可以滑动生效</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/12381725646347c29a02961f3ef48c41"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">2.13 BackTop实现</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/36c8c70116b24151961af88323186640"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">2.14 上拉加载更多</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/d40f8c5b920a48dda2c99f61ca3c3d11"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">2.15 刷新频繁的</span><span class="SemanticString"><mark class="SemanticString__Fragment SemanticString__Fragment--HighlightedColor SemanticString__Fragment--ColorRed">防抖</mark></span><span class="SemanticString">函数</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/b636dd11c5da4414b53594a01b10c529"><div style="margin-left:48px"><span class="SemanticStringArray"><span class="SemanticString">2.15.1 将防抖函数封装到common/utils.js文件中并导出</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/2fc76a5fcbc14b6f814753b2b0a60037"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">2.16 TabControl的吸顶效果</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/403d477f2c4444459e89d570e7c4c5d4"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">2.17 离开Home时记录状态和位置</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/0815523f56544f1eb48787610b3c67af"><div style="margin-left:0px"><span class="SemanticStringArray"><span class="SemanticString">3. 详情页</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/90a8a48cc5524501a9b66e9fd59f60ca"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">
3.1 配置详情页跳转路由并传入iid参数</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/fadca2e0bffa4cd29299fbd0cd1d79b5"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">3.2 详情页的导航栏nav-bar</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/9eb4aa57b79c4870b563f79334bf7a3c"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">3.3 根据iid请求数据并创建轮播图</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/a192cf6bdcb345c6ae70e7ae36a99726"><div style="margin-left:48px"><span class="SemanticStringArray"><span class="SemanticString">3.3.1 首页中的每张图片点进去都是一样的详情页轮播图的bug</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/a9d808b3c00d4d2c8e53f0b5efdcd551"><div style="margin-left:48px"><span class="SemanticStringArray"><span class="SemanticString">3.3.2 轮播图无法轮播并报错的bug</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/bfb69cdeb65a48bdba127ed77a02bf0e"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">3.4 商品基本信息的展示</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/a091804ea6e046cf9e47c7abe0e32310"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">3.5 店铺信息展示</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/5fbdc94f02b34cfaa052c5d01eb8459a"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">3.6 详情页的better-scroll以及隐去下方tabbar</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/2d606726f5324752b133b27cabe7b187"><div style="margin-left:48px"><span class="SemanticStringArray"><span class="SemanticString">3.6.1 scroll中的商品详情数据展示</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/0c5fd9a9b26c444da503879d96a475ad"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">3.9 商品推荐数据展示</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/f3ee901d665b47a7b4d64f83d6ff72c3"><div style="margin-left:48px"><span class="SemanticStringArray"><span class="SemanticString">3.9.1 组件复用bug</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/5f94777ca777418eae7ea7cb983d846e"><div style="margin-left:48px"><span class="SemanticStringArray"><span class="SemanticString">3.9.2 mixin(混入)</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/1a067e85e70444d0a6597485b74d20d7"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">3.10 点击detail-nav-bar滚到对应内容</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/c1c01099fd0143e2a32e13825de1cfde"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">3.11 滚动内容标题对应改变</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/bbbf8ec4e4994e0d8b87eb2287a2152c"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">3.12 底部工具栏</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/bd894741d9324a379c780f09e023f03b"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">3.13 将商品添加到购物车</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/120f6bd70be24271a5b0820aa6b2085d"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">3.14 重构vuex代码</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/58f7e82014b84b7f9460657347875e68"><div style="margin-left:0px"><span class="SemanticStringArray"><span class="SemanticString">4. 购物车页面</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/4c89886f52134097b6bf8e0e7a08c99d"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">4.1 导航栏实现</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/2122885fc746499899f11cca99cb2a2c"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">4.2 购物车商品列表展示</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/ac4929b9ebe947f19d3516717c15a9f1"><div style="margin-left:48px"><span class="SemanticStringArray"><span class="SemanticString">4.2.1 购物车页面无法滚动的bug</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/8545b00059e64904b22441a3a9c1a1d5"><div style="margin-left:48px"><span class="SemanticStringArray"><span class="SemanticString">4.2.2 展示Item</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/52642bdb970e4cdabf2801be81218701"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">4.3 选中按钮</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/3501f75b7e9a41be835583d0ffe580d6"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">4.4 下方的购物栏封装与全选按钮</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/4f69ae4c287e479abf4d9558eba4ea40"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">4.5 Vuex的Actions返回一个Promise对象</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/7322d0f420094a1fb7815843db352365"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">4.6 消息弹窗 Toast的封装</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/85c3876a60ea4253babe2e7f883f7d54"><div style="margin-left:0px"><span class="SemanticStringArray"><span class="SemanticString">5. 细节补充</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/83db37c20e2c440dbecac51908c28161"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">5.1 使用fastClick减少移动端300ms延迟</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/a5a9109909d84def89dc8118c8f0b6fb"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">5.2 图片懒加载 vue-lazyload框架</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/dbf62a4e3dc049e4bfd03b28666deadb"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">5.3 css单位转化插件 —— px2vh</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/45b43d93ed34416c923ec13348f66431"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">5.4 项目打包</span></span></div></a></li></ul><div id="https://www.notion.so/4ba3b98e114340738e68b4ca2363b408" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><div id="https://www.notion.so/1f052dc6ae1a43878e879d5145063cc6" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><h2 id="https://www.notion.so/d52d6b1dddca49d9bbc2609657dfad14" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/d52d6b1dddca49d9bbc2609657dfad14"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">问题汇总</span></span></h2><h3 id="https://www.notion.so/427af699f1914bc09cb5a0a54a9f8732" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/427af699f1914bc09cb5a0a54a9f8732"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">img标签的图片下面的3px的空白如何消除？</span></span></h3><div id="https://www.notion.so/a9a72894b58d4d88ae4c870fdaa1242a" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">在该img标签的css样式中添加 </span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">vertical-align: middle;</code></span></span></p></div><div id="https://www.notion.so/5cc73b649f8e4f3c97baa1d268bbfd2b" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><h3 id="https://www.notion.so/6da439ca70254092954183419c62fd93" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/6da439ca70254092954183419c62fd93"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">vue-router中的router-view和router-link组件的原理？</span></span></h3><div id="https://www.notion.so/1da8797862bc49ce8ada04d21f992aea" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><div id="https://www.notion.so/ec0b15917eb94875a6670b25413bf08e" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">父组件通过组件标签向子组件传递数据时，如果是驼峰式，则需要在父组件标签中改为横杠式 即</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">topImages</code></span><span class="SemanticString"> ⇒ </span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">top-images</code></span></span></p><div class="Text__Children"><div id="https://www.notion.so/9596b813d2d04fd28c9850ad2330888c" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">因为html标签里是不区分大小写的</span></span></p></div></div></div><div id="https://www.notion.so/ffa1059a9db649e98773014f1878358c" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><div id="https://www.notion.so/5b0490d7a89f4e5787f1a09ebac920b1" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">在标签中不需要使用this，对象中需要使用this</span></span></p></div><div id="https://www.notion.so/d0fd9d6faf704042affdd126c891f8e3" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><div id="https://www.notion.so/d0737a6eac83442fb3db52ee17a8cffa" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><div id="https://www.notion.so/c2c1700af62c44709f570c6d61967750" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><div id="https://www.notion.so/0a2a8255476e452584e620f077be7b6c" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><h1 id="https://www.notion.so/8bd13c954b4e4068ab70e812fb8db2e9" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/8bd13c954b4e4068ab70e812fb8db2e9"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">1 封装底部导航TabBar</span></span></h1><h2 id="https://www.notion.so/e6a29fd3513640398216fd7e20368b58" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/e6a29fd3513640398216fd7e20368b58"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">1.1 基本结构搭建</span></span></h2><div id="https://www.notion.so/13e154ec941a4622849c5ae18d023315" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">全部都写在App.vue中，然后在后面进行挨个封装处理</span></span></p></div><div id="https://www.notion.so/e94e029629d84b05b5994fe2eb36b058" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><h2 id="https://www.notion.so/ecd63f8bd95c458793e70e348d385eba" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/ecd63f8bd95c458793e70e348d385eba"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">1.2 TabBar和TabBarItem组件封装</span></span></h2><div id="https://www.notion.so/5ec38d2e117946a3848ee72fd443193f" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">将App.vue中的代码进行封装，分别装入TabBar.vue和TabBarItem.vue中</span></span></p></div><div id="https://www.notion.so/18d9356498444d0aa04255ff8544f696" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">使用</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">插槽slot</code></span><span class="SemanticString">进行封装</span></span></p></div><div id="https://www.notion.so/8d94dc5329084e7c8712941aac4d4413" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><h2 id="https://www.notion.so/e125259f4a934873be75781cec75d3ee" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/e125259f4a934873be75781cec75d3ee"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">1.3 给TabBarItem传入active图标</span></span></h2><div id="https://www.notion.so/6fa8ca3ce0874dae891af8739b1dcf2f" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">给active图标添加一个具名插槽</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">icon-active</code></span><span class="SemanticString">，将两张图片都引入</span></span></p></div><div id="https://www.notion.so/e504e95414dc41a6b7b201f46873a6c1" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">在TabBarItem中用</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">v-if</code></span><span class="SemanticString">和</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">isActive变量</code></span><span class="SemanticString">展示不同图标</span></span></p></div><h2 id="https://www.notion.so/debdcf0fab4f42d7822e71e78e5bcb04" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/debdcf0fab4f42d7822e71e78e5bcb04"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">1.4 点击TabBarItem跳转路由</span></span></h2><div id="https://www.notion.so/2f4141afa52d4363ab1e6a1c2cb3338a" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">安装vue-router，配置index.js</span></span></p></div><div id="https://www.notion.so/846f0cd880a74209a80c4443d5fddb02" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">父组件传子组件path变量，通过</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">props</code></span><span class="SemanticString">，如果传入的是变量前面加</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">:</code></span><span class="SemanticString">，否则不加</span></span></p></div><div id="https://www.notion.so/748c20b114cb44928c64206b951ef88d" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">子组件监听item点击事件，并使用</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">this.$router.push(path).catch(err⇒err)</code></span></span></p></div><div id="https://www.notion.so/87cba00761b04679a8fb84664e3d339c" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="https://www.notion.so/d7d01bda6a9348b2a932613749d9456e#4d4c858ae10e4ab980ace58260b8d2f4">this.$router相关知识点</a></span></span></p></div><div id="https://www.notion.so/86f78f2de521419cb49e444da1bfc462" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">router-view标签起到占位作用</span></span></p></div><div id="https://www.notion.so/9bd105fec140456697bd5cae362c053d" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><h2 id="https://www.notion.so/7f646e66c5054ea495a3e3fa904c3875" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/7f646e66c5054ea495a3e3fa904c3875"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">1.5 点击TabBarItem的颜色控制</span></span></h2><div id="https://www.notion.so/5adfb26d9aa048a8be943af0fdcf441e" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">indexOf判断当前活跃路由</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">$route</code></span><span class="SemanticString">是否在每个item的path中包含，决定</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">isActive</code></span><span class="SemanticString">的值</span></span></p></div><div id="https://www.notion.so/6f04cd14691547539180a1134ec99cc9" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">封装文字的style样式，可以通过父传子决定文字颜色 </span></span></p></div><div id="https://www.notion.so/e52fa7240ead462fb900091592f4ef03" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">活用</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">computed</code></span><span class="SemanticString">计算属性，动态绑定style样式</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">:style=&quot;isActiveStyle&quot;</code></span></span></p></div><div id="https://www.notion.so/8a4f541ab8634684844701e4a9e847b3" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><h2 id="https://www.notion.so/290921df4eae42899162e50aa299a097" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/290921df4eae42899162e50aa299a097"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">1.6 封装MainTabBar</span></span></h2><div id="https://www.notion.so/c660b7ea747b4462ab83b32964d7dfdb" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">减少App.vue中的代码量</span></span></p></div><div id="https://www.notion.so/b4ebd8b1d25d4103a5d405d1f475d240" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><h1 id="https://www.notion.so/f3ede7d6b28b4350b387c087d7de38c1" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/f3ede7d6b28b4350b387c087d7de38c1"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">2 首页开发</span></span></h1><div id="https://www.notion.so/9b6171568733457483fba87f4b876491" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">tabbar(插槽) </code></span><span class="SemanticString">→ </span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">navbar(插槽)</code></span><span class="SemanticString"> → </span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">封装request(axios) </code></span><span class="SemanticString">→</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code"> 封装首页请求</code></span><span class="SemanticString"> → </span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">首页created周期请求数据并保存到data</code></span><span class="SemanticString"> → swiper → HomeSwiper → HomeRecomandView → tabControl → 请求数据的模型：pop/news/sell →  </span></span></p></div><h2 id="https://www.notion.so/e9a0dcbe2aa44975b0d57898dadfa3fe" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/e9a0dcbe2aa44975b0d57898dadfa3fe"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">2.0 移动端设置</span></span></h2><div id="https://www.notion.so/104b11570a1849fcbdb0c888dba96660" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">在public文件下的index.html中设置</span></span></p></div><div id="https://www.notion.so/c4fe09359d994e4da98a536e84a2e473" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0, minimum-scale=1, maximun-scale=1, user-scalable=no&quot;&gt;</code></span></span></p></div><h2 id="https://www.notion.so/26f03ea6287e46c7a4065a66c472d362" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/26f03ea6287e46c7a4065a66c472d362"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">2.1 vue.config.js和editorconfig</span></span></h2><h2 id="https://www.notion.so/28cba9fbfdcd47e792b8567a16132d53" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/28cba9fbfdcd47e792b8567a16132d53"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">2.2 首页导航栏NavBar</span></span></h2><div id="https://www.notion.so/c9cfe445944e4f429590b4315a9c6cc0" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">父元素</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">display: flex</code></span><span class="SemanticString">，子元素</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">flex:1</code></span><span class="SemanticString"> 与 </span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">具体宽度</code></span><span class="SemanticString">都可以用</span></span></p></div><div id="https://www.notion.so/dfee7fe26c574a508e0b175be8c82362" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">需要将导航栏定位，不随页面滑动，使用</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">position:fixed</code></span><span class="SemanticString">定位，但是开启position后会被其他元素覆盖，需要加入属性</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">z-index:9</code></span><span class="SemanticString">来提高层级</span></span></p></div><h2 id="https://www.notion.so/46c69edc036340c18b11302d396697cb" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/46c69edc036340c18b11302d396697cb"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">2.3 请求网络数据</span></span></h2><div id="https://www.notion.so/0bc95ea6b02343d0824709c446aaaf8b" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">使用axios进行请求，将请求数据的方法进行封装，方法返回的结果是promise对象，使用then方法调用获取的结果res，存储在Home中的data中</span></span></p></div><h2 id="https://www.notion.so/24d34e2684164bd8859a2639b79d99dc" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/24d34e2684164bd8859a2639b79d99dc"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">2.4 轮播图</span></span></h2><div id="https://www.notion.so/ab36c47b9aa54fbba0372b0442856028" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">将components中的轮播图封装到home文件夹下的childComps下，</span></span></p></div><div id="https://www.notion.so/341d2020bcd949d3a199f6e8d5f04d22" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">v-for的使用，多个swiper-item插入slot</span></span></p></div><div id="https://www.notion.so/a4ad0466b8bd44b09abefcfd03218227" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">标签属性值如果是变量则需要在前面加上</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">:</code></span></span></p></div><div id="https://www.notion.so/c103157936264d2c99a71d478c103f80" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Home组件通过props向子组件传递数据</span></span></p></div><h2 id="https://www.notion.so/65198a6fd4204090a22fd7a798cea555" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/65198a6fd4204090a22fd7a798cea555"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">2.5 推荐信息展示</span></span></h2><div id="https://www.notion.so/79d35347fc3c42f5a11a68617a6106cb" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">传递数据和封装同轮播图</span></span></p></div><div id="https://www.notion.so/9a11e3cbf92149b3a3ae1e1dffdfe94f" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">需要调整css样式 </span></span></p></div><h2 id="https://www.notion.so/5fc8e5c28c4b4012a2f2719edf589e31" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/5fc8e5c28c4b4012a2f2719edf589e31"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">2.6 FeatureView封装</span></span></h2><div id="https://www.notion.so/1de29dd41f104187a631893b7087af7a" class="ColorfulBlock ColorfulBlock--BgOrange Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">将recommend_bg.jpg图片插入，并将图片的width设置为</span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">100%，百分号表示相对父组件的百分比</strong></span></span></p></div><div id="https://www.notion.so/f6b4fed324934db5a1d7ac03df3e6b2b" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">修改home组件在屏幕中的起始位置为navbar下方，使得在上下两 bar中间滚动</span></span></p><div class="Text__Children"><ul class="BulletedListWrapper"><li id="https://www.notion.so/196cea3ee7bf40a989f696bd2783f1b5" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">使用padding或者margin都可以</span></span></li></ul></div></div><h2 id="https://www.notion.so/e2e0598e1f574d38a8f79200c020df0f" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/e2e0598e1f574d38a8f79200c020df0f"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">2.7 TabControl封装</span></span></h2><div id="https://www.notion.so/58ef20a45db145e799f8c4c1a48b25ab" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">TabControl属于项目内的公共组件，在home、category等路由中都有用到，所以放在</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">components/contents</code></span><span class="SemanticString">目录下</span></span></p></div><div id="https://www.notion.so/adcbb10178b940b3a2a01e2b6d61ac85" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">控制栏不能确定有几个分栏，文字也不能确定，可以使用</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">slot</code></span><span class="SemanticString">或者</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">父传子数组用v-for遍历</code></span></span></p><div class="Text__Children"><ul class="BulletedListWrapper"><li id="https://www.notion.so/0c822e9fe4a940038208f3e9cece359f" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">如果不确定有几个分栏，则用</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">slot</code></span></span></li><li id="https://www.notion.so/a0c469f0e3a34e2082cd27b2133acca2" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">如果确定分栏个数，但不确定文字内容，则用</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">父传子数组</code></span><span class="SemanticString">+</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">v-for</code></span><span class="SemanticString">，数组是需要更改的文字</span></span></li></ul></div></div><div id="https://www.notion.so/8f1ffc210ceb4b8e83ae2ff3b2a41e7a" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">如果父元素传递的内容为数组，也需要在前面加上</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">:</code></span></span></p></div><div id="https://www.notion.so/1eee47e72e2a488da9e1f5152131d260" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">computed计算属性通过</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">return 函数</code></span><span class="SemanticString">的方式来传递参数</span></span></p></div><div id="https://www.notion.so/9a958e0a7cd64c65b332323b1aa7dd59" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">元素滑到某个部位就吸附住不动的css实现方式：（但是在better-scroll中失效，使用</span><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="mobile_mall.html">2.16</a></span><span class="SemanticString">的方法）</span></span></p><div class="Text__Children"><pre id="https://www.notion.so/23729f38cc8e45fdbd2dd72373f0abe7" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token comment">/* 当滑动到距离顶部44px的位置时不动 */</span>
<span class="token property">position</span><span class="token punctuation">:</span> sticky<span class="token punctuation">;</span>
<span class="token property">top</span><span class="token punctuation">:</span> 44px<span class="token punctuation">;</span></span></span></span></code></pre></div></div><h2 id="https://www.notion.so/9297d6d7ab3c4f18b1a87de7e0610150" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/9297d6d7ab3c4f18b1a87de7e0610150"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">2.8 保存三栏商品的数据结构设计</span></span></h2><pre id="https://www.notion.so/b72a2a5276134cc0909ae52edad38a3f" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token literal-property property">goods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
	<span class="token string-property property">'pop'</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token literal-property property">page</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">list</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token string-property property">'news'</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token literal-property property">page</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">list</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token string-property property">'sell'</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token literal-property property">page</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">list</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span></span></span></span></code></pre><h2 id="https://www.notion.so/83b78798954d4ad4b5e528668dbd1639" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/83b78798954d4ad4b5e528668dbd1639"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">2.9 三栏商品数据的接收与保存</span></span></h2><div id="https://www.notion.so/1b8d6ec6d4d94830a53f03fdaca7aef9" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">created里面只负责逻辑代码，要避免内容繁琐，方法的具体实现都封装到methods中再调用</span></span></p><div class="Text__Children"><ul class="BulletedListWrapper"><li id="https://www.notion.so/fb2a086475bd4a34b61263583ab6e336" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">如果methods中的方法名和要封装的导入方法名字相同，必须在created中使用</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">this.方法名</code></span><span class="SemanticString">以区分methods方法和导入方法</span></span></li></ul></div></div><div id="https://www.notion.so/279ba181fdef49db96bb8b4e8341c004" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">将一个b数组中的元素依次加入a数组中，使用</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">a.push(...b)</code></span></span></p></div><div id="https://www.notion.so/4fb149828489411cb0d615d4e396d83b" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">将请求的数据的第一页加入到goods的list中，并把页码加一</span></span></p></div><div id="https://www.notion.so/aa4bbfca3a3348b7a0896492c77d42c5" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><h2 id="https://www.notion.so/62e68cd995934680bcb655113e2f4f9b" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/62e68cd995934680bcb655113e2f4f9b"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">2.10 商品数据的展示</span></span></h2><div id="https://www.notion.so/cc5134427d074a5286b7f02a045a4021" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Home中的goods[type].list传入GoodsList，GoodsList中数组用v-for拆成每个item传入GoodsListItem</span></span></p></div><div id="https://www.notion.so/51eb64a5539940d58a77d06486f942f2" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">display: flex会将所有子元素都聚集到一行，如果在父元素css中加入</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">flex-wrap: wrap</code></span><span class="SemanticString">，会根据子元素宽度换行排列</span></span></p></div><div id="https://www.notion.so/fbcd7ca6b057499cacab8955a1147b01" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">justify-content: space-around</code></span><span class="SemanticString"> 用于让子元素之间的左右留出均等空白</span></span></p></div><div id="https://www.notion.so/a77b5873a0b548e49d11bbafca54b2c3" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><h2 id="https://www.notion.so/b104846e60d14292bb7042e8a3138ccd" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/b104846e60d14292bb7042e8a3138ccd"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">2.11 点击导航栏切换商品展示</span></span></h2><ol class="NumberedListWrapper"><li id="https://www.notion.so/9153b46645aa45f5966064c525b8e670" class="NumberedList" value="1"><span class="SemanticStringArray"><span class="SemanticString">TabControl子组件的点击事件传递到父组件Home中</span></span></li><li id="https://www.notion.so/caabe5ef876b4f55bf055d7ad7b754ee" class="NumberedList" value="2"><span class="SemanticStringArray"><span class="SemanticString">在Home中根据传入的自定义事件中的参数index设置data中的currentType，将ctype写入</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">goods-list</code></span><span class="SemanticString">组件的传入参数中</span></span></li></ol><div id="https://www.notion.so/bb2a913043844196bf47747166d30dce" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><h2 id="https://www.notion.so/bbb7743792dc4e4488e294a2eed7dc4a" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/bbb7743792dc4e4488e294a2eed7dc4a"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">2.12 </span><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="https://www.notion.so/d7d01bda6a9348b2a932613749d9456e#c00d458de912455288e396d664bd5ace">better-scroll的封装和使用</a></span></span></h2><div id="https://www.notion.so/9a20a7aa41ce418dbe45ff3eae1f9321" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><div id="https://www.notion.so/94ec3065591b436289526f0ae85ed158" class="ColorfulBlock ColorfulBlock--BgRed Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><em class="SemanticString__Fragment SemanticString__Fragment--Italic"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">在created函数中不能获取到页面的元素（比如</strong></em></span><span class="SemanticString"><em class="SemanticString__Fragment SemanticString__Fragment--Italic"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold"><code class="SemanticString__Fragment SemanticString__Fragment--Code">document.querySelector(&#x27;&#x27;)</code></strong></em></span><span class="SemanticString"><em class="SemanticString__Fragment SemanticString__Fragment--Italic"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">或者</strong></em></span><span class="SemanticString"><em class="SemanticString__Fragment SemanticString__Fragment--Italic"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold"><code class="SemanticString__Fragment SemanticString__Fragment--Code">this.$refs.xxx</code></strong></em></span><span class="SemanticString"><em class="SemanticString__Fragment SemanticString__Fragment--Italic"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">可能会获取不到对应元素），需要在mouted函数中才行</strong></em></span></span></p></div><div id="https://www.notion.so/a8f43ab8df2c4f70929654c78f037fcb" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">为元素绑定ref属性，通过this.$refs.xxx唯一获取该元素，</span><span class="SemanticString"><mark class="SemanticString__Fragment SemanticString__Fragment--HighlightedColor SemanticString__Fragment--ColorRed"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">如果绑定的是组件标签，则获取该组件对象</strong></mark></span></span></p></div><div id="https://www.notion.so/2456cd14640a4502bb3b49afcb15ede9" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">bscroll封装到components里的common中</span></span></p></div><div id="https://www.notion.so/6491f0cf1a664c04a7e7e0f7709ad83a" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">必须判断probeType是否为2或3，才能进行on操作；以及判断pullUpLoad是否为true，才能进行on，不然当这两个属性值不对的时候会报错</span></span></p></div><h3 id="https://www.notion.so/74eb980c5b6146d2867ef5519fcd20db" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/74eb980c5b6146d2867ef5519fcd20db"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">2.12.1</strong></span><span class="SemanticString"> </span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">图片加载慢导致scroll无法滚动的bug</strong></span></span></h3><div id="https://www.notion.so/37c15195e85c48a192fe3b472f6126ce" class="ColumnList"><div id="https://www.notion.so/ef6b566afc1e4b6fad112e84b4e586a5" class="Column" style="width:calc((100% - var(--column-spacing) * 1) * 0.5)"><ul class="BulletedListWrapper"><li id="https://www.notion.so/d88e15074add404ea07992425019e1b2" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">创建</span><span class="SemanticString"><mark class="SemanticString__Fragment SemanticString__Fragment--HighlightedColor SemanticString__Fragment--ColorRed"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">事件总线</strong></mark></span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">$bus</code></span><span class="SemanticString">代替vuex管理统一的变量， 在main.js中</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">Vue.prototype.$bus = new Vue() </code></span></span></li><li id="https://www.notion.so/7e4995e5151a4020984d0daad2399910" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">在GoodsListItem中的img中监听图片加载 </span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">@load=&quot;imageLoad&quot;</code></span><span class="SemanticString"> </span></span></li><li id="https://www.notion.so/d5c4c27052b049abb575cadc341998c8" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">在GoodsListItem中发送图片已经加载的事件 </span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">this.$bus.$emit(&#x27;itemImageLoad&#x27;);</code></span></span></li><li id="https://www.notion.so/a3c283a58d4d4099a12ed0e71e16a562" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">在Home的created中接收$bus中的itemImageLoad事件，并进行scroll的refresh操作 </span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">this.$bus.$on(&#x27;itemImageLoad&#x27;, fn);</code></span></span></li><li id="https://www.notion.so/920d857887f54fc1be9832f12a0073c8" class="BulletedList"><span class="SemanticStringArray"></span></li></ul></div><div id="https://www.notion.so/a12f5d51f0a846eaa0da6aa9726a13a1" class="Column" style="width:calc((100% - var(--column-spacing) * 1) * 0.5)"><div id="https://www.notion.so/05a8ee3072c44e3fb20b8aff7d814299" class="Image Image--Normal"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F22dac2a2-53c2-408d-9a69-5dcc67c65b57%2FUntitled.png?width=699&amp;table=block&amp;id=05a8ee30-72c4-4e3f-b20b-8aff7d814299"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F22dac2a2-53c2-408d-9a69-5dcc67c65b57%2FUntitled.png?width=699&amp;table=block&amp;id=05a8ee30-72c4-4e3f-b20b-8aff7d814299" style="width:699px"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div></div></div><h3 id="https://www.notion.so/1d0f8d8dc7464479aaf2198376ef63e1" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/1d0f8d8dc7464479aaf2198376ef63e1"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">2.12.2 refresh为undefined的bug</span></span></h3><ol class="NumberedListWrapper"><li id="https://www.notion.so/25049e8381564283af30f484f1ee7c99" class="NumberedList" value="1"><span class="SemanticStringArray"><span class="SemanticString">GoodsListItem中的图片加载太快，导致Home组件在created中过早的调用scroll.refresh()，但是此时scroll组件还没有挂载完毕，没有在mounted中创建scroll对象，此时scroll为null，无法调用refresh对象</span></span><div id="https://www.notion.so/497077f8f7ac465a8c42b9c4347b02b3" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">解决方法：在scroll组件的methods中，设置调用refresh前先判断scroll是否已经创建了，即</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">this.scroll &amp;&amp; this.scroll.refresh()</code></span></span></p></div></li><li id="https://www.notion.so/23341c5f1d0b47aab7f6da205fceabfa" class="NumberedList" value="2"><span class="SemanticStringArray"><span class="SemanticString">在Home组件的created中this.$refs可能还未挂载出来，会指向undefined，需要放在mounted中 （</span><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="mobile_mall.html">对应2.12中</a></span><span class="SemanticString">）</span></span></li></ol><h3 id="https://www.notion.so/f4ffd182d0f64dcab7872848d26d85da" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/f4ffd182d0f64dcab7872848d26d85da"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">2.12.3 如何设置home组件中scroll标签的高度，使得scroll可以滑动生效</span></span></h3><div id="https://www.notion.so/f6da953725854838b9a755a4b4330fc5" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">position: absolute; top: 44px; bottom: 49px; overflow: hidden;</code></span></span></p></div><ul class="BulletedListWrapper"><li id="https://www.notion.so/af12fa7dd8a04b65a1aa1ae126bd4c5f" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">id=home这个父组件被子组件的很多图片撑开 高度不是屏幕的高度，想要修改scroll标签的高度，不能直接使用</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">calc(100% - 93px)</code></span><span class="SemanticString"> 其中93px是上下导航栏的总高度</span></span></li><li id="https://www.notion.so/9f82d7e4734a4038bbd7d801bcfbec34" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">应该将id=home的宽度设置位</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">100vh</code></span><span class="SemanticString"> </span></span></li><li id="https://www.notion.so/6ad6f9c090684e86a3dc60204e4e1ec1" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">（有关</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">vh</code></span><span class="SemanticString">和</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">calc</code></span><span class="SemanticString">的知识见面试题）</span></span></li></ul><div id="https://www.notion.so/5b042b26b553469aaadbc633acafedef" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><h2 id="https://www.notion.so/12381725646347c29a02961f3ef48c41" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/12381725646347c29a02961f3ef48c41"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">2.13 BackTop实现</span></span></h2><div id="https://www.notion.so/6f867ecf44c44fa38c795d4f278e8712" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">backtop组件内监听点击不太好，因为scroll组件里才能调用scroll对象，需要传参数很多次</span></span></p></div><div id="https://www.notion.so/f089c3f3d477439893c94257ca279f06" class="ColorfulBlock ColorfulBlock--BgOrange Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">直接在home中监听backtop标签，注意：原生标签可以直接@click=“”，但是组件标签需要使用</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">@click.native=“” </code></span><span class="SemanticString">才能监听</span></span></p></div><div id="https://www.notion.so/ba7fd6dcb3bc439486cd5c2ed46e7b62" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">一旦监听到点击，用$refs来获取scroll组件对象</span></span></p></div><div id="https://www.notion.so/93b86e7f9d41462dab19a3ef9037fed7" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">子组件props中的驼峰式在父组件传递参数时应该写成横杠式</span></span></p></div><div id="https://www.notion.so/ddd84f43238a4992a09b6196b248f759" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">将子组件中的scroll.on作为自定义事件发送到home组件中，同时传递参数position </span></span></p></div><pre id="https://www.notion.so/2f7028a273974c1ba50de45a37f82668" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token keyword">this</span><span class="token punctuation">.</span>scroll<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'scroll'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">position</span><span class="token punctuation">)</span><span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'scroll'</span><span class="token punctuation">,</span> position<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></span></span></code></pre><h2 id="https://www.notion.so/36c8c70116b24151961af88323186640" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/36c8c70116b24151961af88323186640"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">2.14 上拉加载更多</span></span></h2><div id="https://www.notion.so/a39089e6e51a45fead04a6be47fbd993" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">设置pullUpLoad为true，并用</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">scroll.on(&#x27;pulling&#x27;, ()⇒{})</code></span><span class="SemanticString">将上拉事件往父组件中传递，在父组件中调用getHomeGoods函数请求数据</span></span></p></div><div id="https://www.notion.so/734f5a59d28c4801ad53252df74e2884" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">但是默认情况下只能实现一个下拉加载，需要在每次请求数据后都加上</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">scroll.finishPullUp()</code></span><span class="SemanticString">函数，才能实现多次下拉加载更多</span></span></p></div><div id="https://www.notion.so/c4fac7fb499848c9bd4fbd8dc7c08572" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><div id="https://www.notion.so/8e95dd3b7c32470fac71d66f71cd79e4" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><h2 id="https://www.notion.so/d40f8c5b920a48dda2c99f61ca3c3d11" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/d40f8c5b920a48dda2c99f61ca3c3d11"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">2.15 刷新频繁的</span><span class="SemanticString"><mark class="SemanticString__Fragment SemanticString__Fragment--HighlightedColor SemanticString__Fragment--ColorRed">防抖</mark></span><span class="SemanticString">函数</span></span></h2><div id="https://www.notion.so/42dccacbc09d4041ab1ea67141577aaf" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">在</span><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="mobile_mall.html">2.12.1</a></span><span class="SemanticString">中，refresh会被大量调用，比较消耗浏览器内存</span></span></p></div><pre id="https://www.notion.so/ba0db37bd0ac431ab8dccbadc9658712" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
	<span class="token function">debounce</span><span class="token punctuation">(</span><span class="token parameter">func<span class="token punctuation">,</span> delay</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	  <span class="token comment">// 记录定时器标识</span>
	  <span class="token keyword">let</span> timer <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
	  <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	    <span class="token keyword">if</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span>
	      <span class="token function">clearTimeout</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span><span class="token punctuation">;</span>
	    timer <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
	      <span class="token function">func</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
	    <span class="token punctuation">}</span><span class="token punctuation">,</span> delay<span class="token punctuation">)</span><span class="token punctuation">;</span>
	  <span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> refresh <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">debounce</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>scroll<span class="token punctuation">.</span>refresh<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>$bus<span class="token punctuation">.</span><span class="token function">$on</span><span class="token punctuation">(</span><span class="token string">"itemImageLoad"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token function">refresh</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span></span></span></span></code></pre><h3 id="https://www.notion.so/b636dd11c5da4414b53594a01b10c529" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/b636dd11c5da4414b53594a01b10c529"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">2.15.1 将防抖函数封装到common/utils.js文件中并导出</span></span></h3><div id="https://www.notion.so/ccc57665a3644b809f6e39e337d9b520" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><h2 id="https://www.notion.so/2fc76a5fcbc14b6f814753b2b0a60037" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/2fc76a5fcbc14b6f814753b2b0a60037"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">2.16 TabControl的吸顶效果</span></span></h2><ol class="NumberedListWrapper"><li id="https://www.notion.so/5295593bba8c4c41bb3d4d3e7f8b7fc7" class="NumberedList" value="1"><span class="SemanticStringArray"><span class="SemanticString">获取到TabControl的offsetTop属性值，在Home中的mounted中的</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">this.$refs.tabControl</code></span><span class="SemanticString"> 获取的是组件对象，并不是dom元素，里面没有offsetTop属性，需要在后面机上</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">.$el</code></span><span class="SemanticString">使其变成元素</span></span></li><li id="https://www.notion.so/4f61fce023ef4491bab3898a6d47b06c" class="NumberedList" value="2"><span class="SemanticStringArray"><span class="SemanticString">获取到的offsetTop并不是真实的值，因为mounted将元素挂载到页面，但是图片并没有被加载出来，高度没有被撑开</span></span></li><li id="https://www.notion.so/e5ca0a4a4c7445758ae0e70990f48031" class="NumberedList" value="3"><span class="SemanticStringArray"><span class="SemanticString">实际项目中轮播图加载最慢，对其进行加载完毕的监听</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">@load</code></span><span class="SemanticString">，自定义事件传递给父组件Home，加载完毕后再获取offsetTop属性值</span></span></li><li id="https://www.notion.so/1d1503478ceb4919abefce9d51ec67dc" class="NumberedList" value="4"><span class="SemanticStringArray"><span class="SemanticString">一共有四张轮播图，但是只要一张图片加载好了，高度就确定了，所以只需要发送第一张加载的图片的加载完毕事件</span></span></li><li id="https://www.notion.so/148127d6873a4f4f90b36713fa7ce108" class="NumberedList" value="5"><span class="SemanticStringArray"><span class="SemanticString">在Home组件中的scroll标签外，nav-bar下面创建一个和tab-control一样的标签，用于当-position.y&gt;tabOffsetTop时，替换掉scroll里的tab-control，要给这个tab-control添加相对定位和z-index</span></span></li><li id="https://www.notion.so/2fa1d23dabbf449284b90106134886e1" class="NumberedList" value="6"><span class="SemanticStringArray"><span class="SemanticString">替换掉但是会出现bug，两个tab-control的currentIndex不同，导致高亮的栏目不一样</span></span><ol class="NumberedListWrapper"><li id="https://www.notion.so/50464d7c16154068aa7bb03e6e2df858" class="NumberedList" value="1"><span class="SemanticStringArray"><span class="SemanticString">解决方法：在监听点击事件tabClick中使用如下代码同步两个tab-control的currentIndex</span></span></li></ol><pre id="https://www.notion.so/b73aa480cd26408e96bf4c7c230a7efa" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>tabControl1<span class="token punctuation">.</span>currentIndex <span class="token operator">=</span> index<span class="token punctuation">;</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>tabControl2<span class="token punctuation">.</span>currentIndex <span class="token operator">=</span> index<span class="token punctuation">;</span></span></span></span></code></pre></li></ol><h2 id="https://www.notion.so/403d477f2c4444459e89d570e7c4c5d4" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/403d477f2c4444459e89d570e7c4c5d4"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">2.17 离开Home时记录状态和位置</span></span></h2><ol class="NumberedListWrapper"><li id="https://www.notion.so/c6292f6c4bd8461fa80d82588e5bfaa6" class="NumberedList" value="1"><span class="SemanticStringArray"><span class="SemanticString">使用keep-alive防止销毁home，但是不能保存Home的状态，</span></span></li><li id="https://www.notion.so/ee0ed8e64bb24030929a805fd1bd436a" class="NumberedList" value="2"><span class="SemanticStringArray"><span class="SemanticString">离开时保存一个位置信息，回来时再将位置信息设置到home中</span></span><ol class="NumberedListWrapper"><li id="https://www.notion.so/2b4cd40d420b4f3d857e1dcf5c321708" class="NumberedList" value="1"><span class="SemanticStringArray"><span class="SemanticString">使用saveY来保存离开时的位置，在</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">deavtivated</code></span><span class="SemanticString">中保存，当下次切回来的时候使用scrollTo来定位到saveY的位置</span></span></li><li id="https://www.notion.so/a9ecfcf861e247eaa3d51eafee57b130" class="NumberedList" value="2"><span class="SemanticStringArray"><span class="SemanticString">切回来定位到saveY之后要进行一次refresh操作，不然页面可能出现不能滚动的bug</span></span></li></ol></li></ol><div id="https://www.notion.so/dc4ec485e5284aad822fc6bad3d9edb2" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><h1 id="https://www.notion.so/0815523f56544f1eb48787610b3c67af" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/0815523f56544f1eb48787610b3c67af"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">3. 详情页</span></span></h1><h2 id="https://www.notion.so/90a8a48cc5524501a9b66e9fd59f60ca" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/90a8a48cc5524501a9b66e9fd59f60ca"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">
3.1 配置详情页跳转路由并传入iid参数</span></span></h2><div id="https://www.notion.so/1f7d10c23473444a9612971dde9c2cd2" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">使用</span><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="https://www.notion.so/d7d01bda6a9348b2a932613749d9456e#3c350aaf18324af0905e9651123f5be1"><mark class="SemanticString__Fragment SemanticString__Fragment--HighlightedColor SemanticString__Fragment--ColorRed"><em class="SemanticString__Fragment SemanticString__Fragment--Italic"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">动态路由</strong></em></mark></a></span><span class="SemanticString">的方式传入参数</span></span></p></div><ul class="BulletedListWrapper"><li id="https://www.notion.so/b255ec6386f844979c59ad712a3b5e5b" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">点击图片就执行</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">this.$router.push(&#x27;/detail/&#x27; + this.goodsItem.iid).catch(err⇒err)</code></span></span></li><li id="https://www.notion.so/5dda38ab74ab4610a1d8f05bf0e3f331" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">在路由配置文件index,js中配置 </span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">{path: &#x27;/detail/:iid&#x27;, component: Detail}</code></span></span></li><li id="https://www.notion.so/48bbb031396749c3ba587db429e1a21e" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">在Detail组件中获取到传入的iid参数存储在data中：</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code"> this.iid = this.$route.params.iid</code></span></span></li></ul><div id="https://www.notion.so/d5d5c4623b8145aab3f202677e34ba29" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><h2 id="https://www.notion.so/fadca2e0bffa4cd29299fbd0cd1d79b5" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/fadca2e0bffa4cd29299fbd0cd1d79b5"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">3.2 详情页的导航栏nav-bar</span></span></h2><div id="https://www.notion.so/383490ef3a31417ba1d681bd7ee8c8a0" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">创建DeatilNavBar子组件，设置数组titles，在插槽中v-for数组展示，并设置选中栏目高亮</span></span></p></div><div id="https://www.notion.so/2522183735df4180b2fe1e977baa8bc2" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><h2 id="https://www.notion.so/9eb4aa57b79c4870b563f79334bf7a3c" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/9eb4aa57b79c4870b563f79334bf7a3c"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">3.3 根据iid请求数据并创建轮播图</span></span></h2><div id="https://www.notion.so/deb1c0f643fc4f779dfb98d0120bd0a2" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">在network中创建detail.js文件，专门用于详情页的数据请求方法封装</span></span></p></div><div id="https://www.notion.so/5457769690a849dcbacd3ef057fdaf1d" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">在Detail中的childComps创建DetailSwiper用于封装轮播图，将Detail组件中的topImages传入DetailSwiper中并用v-for和img标签中的</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">:src</code></span><span class="SemanticString">进行展示</span></span></p></div><h3 id="https://www.notion.so/a192cf6bdcb345c6ae70e7ae36a99726" class="ColorfulBlock ColorfulBlock--BgRed Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/a192cf6bdcb345c6ae70e7ae36a99726"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">3.3.1 首页中的每张图片点进去都是一样的详情页轮播图的bug</span></span></h3><div id="https://www.notion.so/ec9674fd4a0243abb82e60e32f3af6ac" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">因为在router-view外包裹了keep-alive，使得详情页组件没有被销毁重建，所以传入的topImages没变</span></span></p></div><div id="https://www.notion.so/12e49413bea948ac871caa315c3e792c" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">解决方法：在keep-alive标签中使用exclude属性排除Detail组件</span></span></p></div><div id="https://www.notion.so/457e3f38528c4138974890feca36f9c6" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><h3 id="https://www.notion.so/a9d808b3c00d4d2c8e53f0b5efdcd551" class="ColorfulBlock ColorfulBlock--BgRed Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/a9d808b3c00d4d2c8e53f0b5efdcd551"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">3.3.2 轮播图无法轮播并报错的bug</span></span></h3><div id="https://www.notion.so/91b57fa057a945ca9733f49ec26c2d36" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">在轮播图中获取class名为swiper的元素用的是querySelector，不是this.$refs.swiper</span></span></p></div><div id="https://www.notion.so/b2f441cf440f4478814d3127c6a34b21" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">在DetailSwiper中也命名了class为swiper的元素标签，则querySelector可能选错了</span></span></p></div><div id="https://www.notion.so/1b05db9bacd74e1691a22e16ae30f495" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">解决方法： 将DetailSwiper中的class名改为detail-swiper，避免class冲突； 或者优化swiper组件中的querySelector改为this.$refs</span></span></p></div><div id="https://www.notion.so/65670fdb415a4e65bd33eb0066dfa2a8" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><h2 id="https://www.notion.so/bfb69cdeb65a48bdba127ed77a02bf0e" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/bfb69cdeb65a48bdba127ed77a02bf0e"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">3.4 商品基本信息的展示</span></span></h2><div id="https://www.notion.so/7157b7c9f7614be49be5ead76e7ff8f9" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">将商品基本信息所需要的所有数据都封装到network中的detail.js的一个Goods类中，然后直接在Detail中调用这个类请求所需数据</span></span></p></div><div id="https://www.notion.so/b5f6513bd47446e5972f49d7f6643985" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">在Detail中存储Goods类返回的对象，将其保存在data中，并创建子组件DetailBaseInfo，向子组件传递data中保存的信息</span></span></p></div><div id="https://www.notion.so/fa49a3e64cab47ca8963a460bd1b43ec" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F4e00d0ce-15ba-4f30-a6da-d8e263c80dbf%2FUntitled.png?width=752&amp;table=block&amp;id=fa49a3e6-4cab-47ca-8963-a460bd1b43ec"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F4e00d0ce-15ba-4f30-a6da-d8e263c80dbf%2FUntitled.png?width=752&amp;table=block&amp;id=fa49a3e6-4cab-47ca-8963-a460bd1b43ec" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><div id="https://www.notion.so/96f1ec80633c451294ce023792e50fd7" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><h2 id="https://www.notion.so/a091804ea6e046cf9e47c7abe0e32310" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/a091804ea6e046cf9e47c7abe0e32310"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">3.5 店铺信息展示</span></span></h2><div id="https://www.notion.so/b953c0ac64ee4ecf8ad95d87d0795856" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">同上</span></span></p></div><div id="https://www.notion.so/20c61681a33745419970c68229dd1a5e" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><h2 id="https://www.notion.so/5fbdc94f02b34cfaa052c5d01eb8459a" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/5fbdc94f02b34cfaa052c5d01eb8459a"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">3.6 详情页的better-scroll以及隐去下方tabbar</span></span></h2><ul class="BulletedListWrapper"><li id="https://www.notion.so/43af48291b514ea2801106b56f23cf3e" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">隐去下方tabbar</span></span><pre id="https://www.notion.so/4262925c1ed348cc973b9711e390647c" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
  <span class="token property">z-index</span><span class="token punctuation">:</span> 9<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span></span></span></span></code></pre></li><li id="https://www.notion.so/958167dd9a4e4cb2b77bfc3f8beb3492" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">better-scroll引入</span></span></li></ul><div id="https://www.notion.so/dcda8105e8584100ab9f47b40230d201" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Scroll组件中，需要设置当probeType和pullUpLoad为2，3和true时才触发scroll.on操作，不然在详情页中引入scrol却没给组件传递这两个属性值会报错</span></span></p></div><div id="https://www.notion.so/d49cb28728654de9970c98b9c7676c4d" class="ColorfulBlock ColorfulBlock--BgBlue Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">同样会遇到轮播图加载慢导致scroll的高度撑不起来，无法滚动的bug  ⇒  类比</span><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="mobile_mall.html"><code class="SemanticString__Fragment SemanticString__Fragment--Code">2.12.1</code></a></span></span></p></div><div id="https://www.notion.so/426abf682ca34fc38bcec4b7c694a1b5" class="ColorfulBlock ColorfulBlock--BgBlue Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">轮播图只需要第一张加载完即可确定高度，其余轮播图只是平铺，不用refresh了 =&gt; </span><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="mobile_mall.html"><code class="SemanticString__Fragment SemanticString__Fragment--Code">与2.16吸顶类似</code></a></span></span></p></div><div id="https://www.notion.so/a17fefd6bbab48ad81c10c6cd06f535e" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><h3 id="https://www.notion.so/2d606726f5324752b133b27cabe7b187" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/2d606726f5324752b133b27cabe7b187"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">3.6.1 scroll中的商品详情数据展示</span></span></h3><div id="https://www.notion.so/ab7a6d89b07a4dbab5572d7e029f83b8" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">封装DetailGoodsInfo.vue，</span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">判断图片是否都加载完毕</strong></span><span class="SemanticString">，完毕后再在Detail中refresh</span></span></p><div class="Text__Children"><div id="https://www.notion.so/3bb59b38171f4b788ee15a0c5cee3f59" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">定义counter记录当前加载了几张图片，如果</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">counter === this.imagesLength </code></span><span class="SemanticString">则表示图片加载完毕了，就可以给父组件发送事件了</span></span></p></div><pre id="https://www.notion.so/f9eb0a4d13544a19af3618a1ef3c403d" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token selector">data ()</span> <span class="token punctuation">{</span>
  <span class="token selector">return</span> <span class="token punctuation">{</span>
    <span class="token property">counter</span><span class="token punctuation">:</span> 0<span class="token punctuation">,</span>
    <span class="token property">imagesLengeth</span><span class="token punctuation">:</span> 0
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token selector">,
methods:</span> <span class="token punctuation">{</span>
  <span class="token selector">imgLoad ()</span> <span class="token punctuation">{</span>
  <span class="token selector">//   this.counter +=1
  //   判断，等所有的图片都加载完后，只用进行一次的事件发送
  // 类似于防抖函数，防抖函数在detail组件中接收时应用，
  // 但由于detail组件已经做了混入，混入中也有防抖函数，所以可以将防抖函数保存在data中，就可以在detail组件中任意位置都可用了
    if(++this.counter === this.imagesLengeth)</span><span class="token punctuation">{</span>
        this.$<span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">'imgLoad'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token selector">,
watch:</span> <span class="token punctuation">{</span>
  <span class="token selector">detailInfo ()</span> <span class="token punctuation">{</span>
		// 初始的时候detailInfo传入为空对象，watch监听其，如果变化了，表示已经传入了值，就更新图片列表的长度，并存入data中
    this.imagesLengeth = this.detailInfo.detailImage[0].list.length
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></span></span></span></code></pre><div id="https://www.notion.so/15d61e544bef4ff38dce7989438a8f4d" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div></div></div><div id="https://www.notion.so/687d760a36f94760a0c12d05fcd1573f" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">3.7 商品参数信息的展示</span></span></p><div class="Text__Children"><div id="https://www.notion.so/3a478eeda02147b3a0923647148b8496" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><div id="https://www.notion.so/5475f94003bd441286f89e842d155e9c" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">同上</span></span></p></div><div id="https://www.notion.so/62b3ba83152d4dd18f7e8062d3dbbfeb" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div></div></div><div id="https://www.notion.so/b23b9626b3f84ddfaf7e7b120177f938" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">3.8 商品评论展示</span></span></p></div><div id="https://www.notion.so/969d0a8770c343ab9f64507960428ed4" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">服务器返回的时间是时间戳类型，需要进行转化，formatData从until.js中引用</span></span></p></div><pre id="https://www.notion.so/f2099dfa2a2f440db4bbeb6118252ff5" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token selector">filters:</span> <span class="token punctuation">{</span>
    <span class="token selector">showDate(value)</span> <span class="token punctuation">{</span>
      //   1. 将时间戳转化为Date对象
      const date = new <span class="token function">Date</span><span class="token punctuation">(</span>value * 1000<span class="token punctuation">)</span><span class="token punctuation">;</span>
      return <span class="token function">formatDate</span><span class="token punctuation">(</span>date<span class="token punctuation">,</span> <span class="token string">"yyyy-MM-dd hh:mm:ss"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span></span></span></span></code></pre><div id="https://www.notion.so/9a8fd4c105084727b24f23436cdc1303" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><h2 id="https://www.notion.so/0c5fd9a9b26c444da503879d96a475ad" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/0c5fd9a9b26c444da503879d96a475ad"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">3.9 商品推荐数据展示</span></span></h2><div id="https://www.notion.so/613c45a558ac46948027eb9b4ee63d82" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">复用GoodsList组件进行展示</span></span></p></div><h3 id="https://www.notion.so/f3ee901d665b47a7b4d64f83d6ff72c3" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/f3ee901d665b47a7b4d64f83d6ff72c3"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">3.9.1 组件复用bug</span></span></h3><ul class="BulletedListWrapper"><li id="https://www.notion.so/bc833574b76b421d99011f9b3c8e2121" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">GoodsListItem.vue组件中的获取图片的方式是</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">goodsItem.show.img</code></span><span class="SemanticString">, 但是在详情页中传入goodsList中的数据里面没有show，只能通过</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">goodsItem.image</code></span><span class="SemanticString">获取图片</span></span></li></ul><div id="https://www.notion.so/5ee46ffb3b3b41e59ff53ebfcfaca49f" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><div id="https://www.notion.so/3d9a46e81ab540f58ab792fca46f2bf2" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">解决上述办法：在GoodsListItem组件中添加computed属性，使用</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">this.goodsItem.image || this.goodsItem.show.img;</code></span></span></p></div><ul class="BulletedListWrapper"><li id="https://www.notion.so/02c0e40751b141a1ba860ce4835d601c" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">GoodsListItem中监听图片加载完毕后，向$bus传递自定义事件，而Home会接收$bus的事件，意味着复用这个组件会导致详情页的图片加载完毕Home依然在刷新</span></span></li></ul><div id="https://www.notion.so/ba9accbfcca14570827ceccbb71ab80b" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">思路一：判断路由地址是在详情页还是首页，给$bus发送不同的自定义事件</span></span></p></div><pre id="https://www.notion.so/778d19c9f7964a478fa0c3bab2460a98" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token selector">if(this.$route.path.indexOf('/home') !== -1)</span><span class="token punctuation">{</span>
  this.$bus.$<span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">"homeItemImageLoad"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token selector">else if(this.$route.path.indexOf('/detail') !== -1)</span><span class="token punctuation">{</span>
  this.$bus.$<span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">"detailItemImageLoad"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></span></span></span></code></pre><div id="https://www.notion.so/8e8fb178965845acab0f9f0131a8f290" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">思路二：当从Home中离开时，取消执行监听成功对应的函数，这样在详情页中Home即便监听到了图片加载也无法refresh</span></span></p></div><pre id="https://www.notion.so/ac69a6f89543412d94ae20238968477d" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token selector">mounted()</span> <span class="token punctuation">{</span>
  let newRefresh = <span class="token function">debounce</span><span class="token punctuation">(</span>this.$refs.scroll.refresh<span class="token punctuation">,</span> 100<span class="token punctuation">)</span><span class="token punctuation">;</span>
  this.itemImgListener = <span class="token punctuation">(</span><span class="token punctuation">)</span> => <span class="token function">newRefresh</span><span class="token punctuation">(</span>20<span class="token punctuation">,</span> 30<span class="token punctuation">,</span> <span class="token string">'abc'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  this.$bus.$<span class="token function">on</span><span class="token punctuation">(</span><span class="token string">"itemImageLoad"</span><span class="token punctuation">,</span> this.itemImgListener<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token selector">,
deactivated()</span> <span class="token punctuation">{</span>
  // 保存离开首页时的首页Y值
  this.saveY = this.$refs.scroll.scroll.y<span class="token punctuation">;</span>
  // 取消对全局事件监听后对itemImgListener函数的执行
  this.$bus.$<span class="token function">off</span><span class="token punctuation">(</span><span class="token string">"itemImgLoad"</span><span class="token punctuation">,</span> this.itemImgListener<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span></span></span></span></code></pre><div id="https://www.notion.so/76d7e55727b34a43b3ca5a028f3faa6b" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">在Detail中同上，只不过Detail没有keep-alive，不能在deactivated中取消函数执行，应该在destroyed中</span></span></p></div><h3 id="https://www.notion.so/5f94777ca777418eae7ea7cb983d846e" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/5f94777ca777418eae7ea7cb983d846e"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">3.9.2 mixin(混入)</span></span></h3><div id="https://www.notion.so/a79867dabf62480cb782adc704df558c" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Detail和Home的mounted中都有重复代码，应该抽取出来 </span></span></p></div><div id="https://www.notion.so/c85ddbc04dbe46859347c138feb4cf47" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">继承</code></span><span class="SemanticString">是抽取</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">类</code></span><span class="SemanticString">中相同的代码，</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">mixin</code></span><span class="SemanticString">是抽取</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">对象</code></span><span class="SemanticString">中相同的代码</span></span></p></div><div id="https://www.notion.so/7534781d0e5c47b2b00b64cb9cfd75dc" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">在common中新建mixin.js， 并将其引入Detail和Home中，使用</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">mixins: [itemListenerMixin]</code></span><span class="SemanticString"> 就可以将mixin中的</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">data</code></span><span class="SemanticString">、</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">mounted</code></span><span class="SemanticString">、</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">components</code></span><span class="SemanticString">、</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">methods</code></span><span class="SemanticString">等地方的内容加到对应组件中</span></span></p></div><pre id="https://www.notion.so/95069f2b941642ec9bba59e7e5e2c0d0" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token selector">import</span> <span class="token punctuation">{</span>debounce<span class="token punctuation">}</span> <span class="token selector">from './utils'

export const itemListenerMixin =</span> <span class="token punctuation">{</span>
  <span class="token selector">data()</span> <span class="token punctuation">{</span>
    <span class="token property">itemImgListener</span><span class="token punctuation">:</span> null
  <span class="token punctuation">}</span><span class="token selector">,
  mounted()</span> <span class="token punctuation">{</span>
    let newRefresh = <span class="token function">debounce</span><span class="token punctuation">(</span>this.$refs.scroll.refresh<span class="token punctuation">,</span> 100<span class="token punctuation">)</span><span class="token punctuation">;</span>
    this.itemImgListener = <span class="token punctuation">(</span><span class="token punctuation">)</span> => <span class="token function">newRefresh</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    this.$bus.$<span class="token function">on</span><span class="token punctuation">(</span><span class="token string">"itemImageLoad"</span><span class="token punctuation">,</span> this.itemImgListener<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></span></span></span></code></pre><div id="https://www.notion.so/319bef140a4746eaa0fab16d0d2db7b8" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><h2 id="https://www.notion.so/1a067e85e70444d0a6597485b74d20d7" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/1a067e85e70444d0a6597485b74d20d7"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">3.10 点击detail-nav-bar滚到对应内容</span></span></h2><div id="https://www.notion.so/f692dceccc0649949e286569e9182346" class="Image Image--Normal"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F3c07024a-88ea-4fb9-86f9-a3351a2c61d7%2FUntitled.png?width=490&amp;table=block&amp;id=f692dcec-cc06-4994-9e28-6569e9182346"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F3c07024a-88ea-4fb9-86f9-a3351a2c61d7%2FUntitled.png?width=490&amp;table=block&amp;id=f692dcec-cc06-4994-9e28-6569e9182346" style="width:490px"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><div id="https://www.notion.so/018492dd6e484c66a30f7cc34f04ff08" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">在imgLoad中使用</span></span></p></div><pre id="https://www.notion.so/ca1d89b39bb04d0e8cb215fb7df12104" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span>this.themesTopYs = []<span class="token punctuation">;</span>
this.themesTopYs.<span class="token function">push</span><span class="token punctuation">(</span>0<span class="token punctuation">)</span><span class="token punctuation">;</span>
this.themesTopYs.<span class="token function">push</span><span class="token punctuation">(</span>this.$refs.params.$el.offsetTop - 44<span class="token punctuation">)</span><span class="token punctuation">;</span>
this.themesTopYs.<span class="token function">push</span><span class="token punctuation">(</span>this.$refs.comment.$el.offsetTop - 44<span class="token punctuation">)</span><span class="token punctuation">;</span>
this.themesTopYs.<span class="token function">push</span><span class="token punctuation">(</span>this.$refs.recommend.$el.offsetTop - 44<span class="token punctuation">)</span></span></span></span></code></pre><div id="https://www.notion.so/684bafa19e624e55a48d0deb2650670c" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><h2 id="https://www.notion.so/c1c01099fd0143e2a32e13825de1cfde" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/c1c01099fd0143e2a32e13825de1cfde"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">3.11 滚动内容标题对应改变</span></span></h2><div id="https://www.notion.so/6f1e6b7485fc44abb36eefc146a643ef" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">用if判断是否在某个范围内，在的话就用this.$refs.navbar,currentIndex改为对应的值</span></span></p></div><div id="https://www.notion.so/c33a4ab79c494231a9129578135021a4" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><h2 id="https://www.notion.so/bbbf8ec4e4994e0d8b87eb2287a2152c" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/bbbf8ec4e4994e0d8b87eb2287a2152c"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">3.12 底部工具栏</span></span></h2><div id="https://www.notion.so/1249db6d60674330a685b95a4249549b" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">mixin 抽出一部分，对比Home.vue在Detail.vue中添加方法</span></span></p></div><pre id="https://www.notion.so/5653e4ae5b594f9f875e1cf7fba150b8" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token selector">export const backTopMixin =</span> <span class="token punctuation">{</span>
  <span class="token selector">components:</span> <span class="token punctuation">{</span>
    BackTop
  <span class="token punctuation">}</span><span class="token selector">,
  data()</span> <span class="token punctuation">{</span>
    <span class="token selector">return</span> <span class="token punctuation">{</span>
      <span class="token property">isShowBackTop</span><span class="token punctuation">:</span> false
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token selector">,
  methods:</span> <span class="token punctuation">{</span>
    <span class="token selector">imgClick()</span> <span class="token punctuation">{</span>
      this.$refs.scroll.<span class="token function">scrollTo</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 500<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></span></span></span></code></pre><div id="https://www.notion.so/a995dd2587e44ba692fb7366a0bc11e5" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><h2 id="https://www.notion.so/bd894741d9324a379c780f09e023f03b" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/bd894741d9324a379c780f09e023f03b"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">3.13 将商品添加到购物车</span></span></h2><div id="https://www.notion.so/0066f00247b94d0f86662d728adaa571" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">使用vuex，安装</span></span></p></div><div id="https://www.notion.so/23b14e9e19f94c438bbdba0986e23cba" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">判断新添加的商品是否之前添加过，没有则创建，有则count+1</span></span></p></div><div id="https://www.notion.so/5afc0f01f74d4ecc942a6a0c330051a6" class="Image Image--Normal"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Ff613b3fd-2764-4fae-8b5e-ad200df179d0%2FUntitled.png?width=435&amp;table=block&amp;id=5afc0f01-f74d-4ecc-942a-6a0c330051a6"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Ff613b3fd-2764-4fae-8b5e-ad200df179d0%2FUntitled.png?width=435&amp;table=block&amp;id=5afc0f01-f74d-4ecc-942a-6a0c330051a6" style="width:435px"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><h2 id="https://www.notion.so/120f6bd70be24271a5b0820aa6b2085d" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/120f6bd70be24271a5b0820aa6b2085d"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">3.14 重构vuex代码</span></span></h2><ul class="BulletedListWrapper"><li id="https://www.notion.so/d2f1082af29b455d99f52aa5e795e465" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">mutations的唯一目的就是修改state中的状态</span></span></li><li id="https://www.notion.so/65de89405e5044b9a9587e6647030354" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">mutations中的每个方法尽可能完成的事件很专一，不要做很多复杂的事</span></span></li><li id="https://www.notion.so/61dc916d4f59407fab28b44cedad4253" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">商品添加和count加一放在一个addCart中不是单一事件，应该放在actions中，并在mutations中添加这两个事件的单一方法，在actions中调用</span></span></li></ul><pre id="https://www.notion.so/1e622f4f0f38429facfda2780e4dca0b" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token selector">mutations:</span> <span class="token punctuation">{</span>
  <span class="token selector">// mutations的唯一目的就是修改state中的状态
  // mutations中的每个方法尽可能完成的事件很专一，不要做很多复杂的事
  AddCounter(state, payload)</span> <span class="token punctuation">{</span>
    payload.count++<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token selector">,
  addToCart(state, payload)</span> <span class="token punctuation">{</span>
    state.payload.<span class="token function">push</span><span class="token punctuation">(</span>payload<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token selector">,
actions:</span> <span class="token punctuation">{</span>
  <span class="token selector">addCart(context, payload)</span> <span class="token punctuation">{</span>
    // payload是新添加的商品，判断这个商品之前是否添加过<span class="token punctuation">(</span>iid<span class="token punctuation">)</span>
    let oldProduct = context.state.cartList.<span class="token function">find</span><span class="token punctuation">(</span>item => item.iid === payload.iid<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token selector">if(oldProduct)</span> <span class="token punctuation">{</span>
      context.<span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'addCounter'</span><span class="token punctuation">,</span> oldProduct<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token selector">else</span> <span class="token punctuation">{</span>
      payload.count = 1<span class="token punctuation">;</span>
      context.<span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'addToCart'</span><span class="token punctuation">,</span> payload<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></span></span></span></code></pre><div id="https://www.notion.so/9895eadd25334c09b3c9e5404a1bbf57" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><h1 id="https://www.notion.so/58f7e82014b84b7f9460657347875e68" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/58f7e82014b84b7f9460657347875e68"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">4. 购物车页面</span></span></h1><h2 id="https://www.notion.so/4c89886f52134097b6bf8e0e7a08c99d" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/4c89886f52134097b6bf8e0e7a08c99d"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">4.1 导航栏实现</span></span></h2><div id="https://www.notion.so/e70b254ec5944e038e995ab28a250304" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">在Cart中导入NavBar，在center插槽中插入</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">购物车({{length}})</code></span></span></p></div><div id="https://www.notion.so/e06ed443b7334708b7e4c3c10cde3355" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">mapGetters辅助函数： </span></span></p></div><div id="https://www.notion.so/dffea93113a149ce84adc79155916059" class="Bookmark"><a href="https://vuex.vuejs.org/zh/guide/getters.html#mapgetters-辅助函数"><h5 class="Bookmark__Title">Getter | Vuex</h5><p class="Bookmark__Desc">有时候我们需要从 store 中的 state 中派生出一些状态，例如对列表进行过滤并计数： 如果有多个组件需要用到此属性，我们要么复制这个函数，或者抽取到一个共享函数然后在多处导入它--无论哪种方式都不是很理想。 Vuex 允许我们在 store 中定义&quot;getter&quot;（可以认为是 store 的计算属性）。就像计算属性一样，getter 的返回值会根据它的依赖被缓存起来，且只有当它的依赖值发生了改变才会被重新计算。 Getter 接受 state 作为其第一个参数： Getter 会暴露为 store.getters 对象，你可以以属性的形式访问这些值： Getter 也可以接受其他 getter 作为第二个参数： 我们可以很容易地在任何组件中使用它： 注意，getter 在通过属性访问时是作为 Vue 的响应式系统的一部分缓存其中的。 你也可以通过让 getter 返回一个函数，来实现给 getter 传参。在你对 store 里的数组进行查询时非常有用。 注意，getter 在通过方法访问时，每次都会去进行调用，而不会缓存结果。 mapGetters 辅助函数仅仅是将 store 中的 getter 映射到局部计算属性： 如果你想将一个 getter 属性另取一个名字，使用对象形式：</p><p class="Bookmark__Link">https://vuex.vuejs.org/zh/guide/getters.html#mapgetters-辅助函数</p></a></div><pre id="https://www.notion.so/73346948819848c89cd5f5d1fe9f2fff" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token selector">// 将vuex的getters.js中的方法直接变成这里的计算属性
// 1. 导入mapGetters from vuex
// 2. 两种方法变成计算属性
// 方法一：以数组形式传入，只能用getters里的名字
...mapGetters(['cartLength']),

// 方法二：以对象的形式传入，可以重定义方法名
...mapGetters(</span><span class="token punctuation">{</span>
  <span class="token property">length</span><span class="token punctuation">:</span> <span class="token string">'cartLength'</span></span></span></span></code></pre><h2 id="https://www.notion.so/2122885fc746499899f11cca99cb2a2c" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/2122885fc746499899f11cca99cb2a2c"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">4.2 购物车商品列表展示</span></span></h2><div id="https://www.notion.so/b3360390504044d59a78de96cc402db2" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">使用CartList和CartListItem子组件进行展示，</span></span></p></div><h3 id="https://www.notion.so/ac4929b9ebe947f19d3516717c15a9f1" class="ColorfulBlock ColorfulBlock--BgRed Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/ac4929b9ebe947f19d3516717c15a9f1"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">4.2.1 购物车页面无法滚动的bug</span></span></h3><div id="https://www.notion.so/876808263bcd4f7d8dc24e60ffb0ab61" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">无法滚动是因为当第一次没有添加商品时访问购物车页面，此时页面高度为0，所以以后每次进来都会是0，没有更新高度就无法滚动</span></span></p></div><div id="https://www.notion.so/ac7f8e06a2884997a7a2cb8e43018f1d" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">解决方法：在CartList的组件的activated中使用</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">scroll.refresh</code></span><span class="SemanticString">，只要一选中购物车就刷新scroll数据</span></span></p></div><h3 id="https://www.notion.so/8545b00059e64904b22441a3a9c1a1d5" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/8545b00059e64904b22441a3a9c1a1d5"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">4.2.2 展示Item</span></span></h3><div id="https://www.notion.so/a88c0745b90d456bb2a58a1abd1d8a56" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><h2 id="https://www.notion.so/52642bdb970e4cdabf2801be81218701" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/52642bdb970e4cdabf2801be81218701"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">4.3 选中按钮</span></span></h2><div id="https://www.notion.so/26d86dc08fd9452fb10b968c4c3a57e4" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><h2 id="https://www.notion.so/3501f75b7e9a41be835583d0ffe580d6" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/3501f75b7e9a41be835583d0ffe580d6"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">4.4 下方的购物栏封装与全选按钮</span></span></h2><div id="https://www.notion.so/0f96ddc5c3b040348ae1016a4f663861" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><h2 id="https://www.notion.so/4f69ae4c287e479abf4d9558eba4ea40" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/4f69ae4c287e479abf4d9558eba4ea40"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">4.5 Vuex的Actions返回一个Promise对象</span></span></h2><div id="https://www.notion.so/b9548610b7b34f2a8b957b9d14ed39d0" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">mapActions的映射，类似</span><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="mobile_mall.html">mapGetters</a></span></span></p></div><div id="https://www.notion.so/e878c54ed86047c2b742480935b8f0f6" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><h2 id="https://www.notion.so/7322d0f420094a1fb7815843db352365" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/7322d0f420094a1fb7815843db352365"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">4.6 消息弹窗 Toast的封装</span></span></h2><ol class="NumberedListWrapper"><li id="https://www.notion.so/83cafc30bf6a4d02bcb58f453c7c32a3" class="NumberedList" value="1"><span class="SemanticStringArray"><span class="SemanticString">组件封装（麻烦）</span></span></li><li id="https://www.notion.so/39d9154c0d72458aa2a159db9c1c1531" class="NumberedList" value="2"><span class="SemanticStringArray"><span class="SemanticString">插件封装，使用</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">Vue.use()</code></span></span></li></ol><div id="https://www.notion.so/f0bf8c70b82c457498330971b68f1037" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">    </span></span></p></div><h1 id="https://www.notion.so/85c3876a60ea4253babe2e7f883f7d54" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/85c3876a60ea4253babe2e7f883f7d54"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">5. 细节补充</span></span></h1><h2 id="https://www.notion.so/83db37c20e2c440dbecac51908c28161" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/83db37c20e2c440dbecac51908c28161"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">5.1 使用fastClick减少移动端300ms延迟</span></span></h2><ol class="NumberedListWrapper"><li id="https://www.notion.so/89068443642e4958a9ef222e822af1e4" class="NumberedList" value="1"><span class="SemanticStringArray"><span class="SemanticString">安装fastClick </span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">npm install fastclick —-save</code></span></span></li><li id="https://www.notion.so/ffd40365793d4f348825ca0709c397ce" class="NumberedList" value="2"><span class="SemanticStringArray"><span class="SemanticString">在main.js中导入fastclick </span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">import Fastclick from &#x27;fastclick&#x27;</code></span></span></li><li id="https://www.notion.so/40f671a4aa864f00b23741dd9e76f517" class="NumberedList" value="3"><span class="SemanticStringArray"><span class="SemanticString">在main.js中使用fastclick </span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">FastClick.attach(document.doby)</code></span></span></li></ol><div id="https://www.notion.so/815caf4c4a814c8a9a42c32a8b909b01" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><h2 id="https://www.notion.so/a5a9109909d84def89dc8118c8f0b6fb" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/a5a9109909d84def89dc8118c8f0b6fb"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">5.2 图片懒加载 vue-lazyload框架</span></span></h2><div id="https://www.notion.so/3dcd33fd5ef44804ac34abffcf785491" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">当图片需要显示在屏幕上时，才去加载这个图片</span></span></p></div><ol class="NumberedListWrapper"><li id="https://www.notion.so/b0ddc19321344a5b9e9cd93ef13fc09e" class="NumberedList" value="1"><span class="SemanticStringArray"><span class="SemanticString">安装</span></span></li><li id="https://www.notion.so/a2bbc43b2314485fa82c0639baa1b189" class="NumberedList" value="2"><span class="SemanticStringArray"><span class="SemanticString">在main.js中导入和Vue.use使用，可以在Vue.use中传入参数</span></span></li><li id="https://www.notion.so/1104aa8fba934f028ffaa0b9c8ff9577" class="NumberedList" value="3"><span class="SemanticStringArray"><span class="SemanticString">修改img标签中的</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">scr</code></span><span class="SemanticString">变为</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">v-lazy</code></span></span></li></ol><div id="https://www.notion.so/f14f25a1281941f0bbbfde6c8447e3c5" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><h2 id="https://www.notion.so/dbf62a4e3dc049e4bfd03b28666deadb" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/dbf62a4e3dc049e4bfd03b28666deadb"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">5.3 css单位转化插件 —— px2vh</span></span></h2><div id="https://www.notion.so/02de8594b458422c8dd497414ff8f90f" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><h2 id="https://www.notion.so/45b43d93ed34416c923ec13348f66431" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/45b43d93ed34416c923ec13348f66431"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">5.4 项目打包</span></span></h2><div id="https://www.notion.so/c907d88cf516419da16ad72a39980f2c" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><div id="https://www.notion.so/baf5b174df9341928c4e64eb87c801f2" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><div id="https://www.notion.so/6026e349f3c9466983845fd37c2690f3" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><div id="https://www.notion.so/433a867521574e03944b28941fae0695" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div></article>
  <footer class="Footer">
  <div>&copy; Notablog 2019-2021</div>
  <div>&centerdot;</div>
  <div>Powered by <a href="https://github.com/dragonman225/notablog" target="_blank"
      rel="noopener noreferrer">Notablog</a>.
  </div>
</footer>
</body>

</html>